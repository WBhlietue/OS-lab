fgets ашиглаж гараас утга авна
Дараа нь авсан утга нь !! мөн эсэхийг шалгана
Хэрэв мөн бол history гэсэн хэсэгт хадгалсан command-аа дуудаж ажлуулна
Хэрэв биш бол strtok ашиглан уг command-ийн space-ийг шалгана
Дараа нь space-аар салгасан үгнүүд дотор < > | зэрэг тэмдэгт байгаа эсэхийг шалгана
Хэрэв > байвал freopen("output.txt", "w", stdout); гэдэг command ашиглан execvp() функцны гаралтыг output.txt file руу бичнэ
Дарааgaar fork ашиглан хүү process үүсгээд уг command-ийг ажлуулна
Дараа нь уг command-ийг history гэсэн variable дотор хадгална.